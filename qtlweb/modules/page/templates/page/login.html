{% extends 'layouts/base.html' %}

{% block title %}{{ config.MAIN_TITLE|safe }}{% endblock %}
{% block meta_description %}{% endblock %}
{% block head %}
    <link rel="stylesheet"
          href="//use.fontawesome.com/releases/v5.0.2/css/all.css">

    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <link rel="stylesheet"
          href="{{ url_for('static', filename='vendor/CoreUI-v1.0.10/style.css', _external=True) }}">

    <link rel="stylesheet"
          href="{{ url_for('static', filename='vendor/CoreUI-v1.0.10/simple-line-icons-2.4.1.css', _external=True) }}">

    <link rel="stylesheet"
          href="{{ url_for('static', filename='styles/main.css', _external=True) }}">

{% endblock %}

{% block body %}
<body>
    <div class="container-fluid">
        <main class="col-12" role="main">
            <div class="row justify-content-center">
                <div class="col-4">
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-sign-in-alt"></i>
                            Login
                        </div>
                        <div class="card-body">
                            {% if session.auth_message %}
                            <div class="row">
                                <div class="col">
                                    <span class="text-danger">Invalid User ID or Password.</span>
                                </div>
                            </div>
                            {% endif %}
                            <div class="row">
                                <div class="col">
                                    <form id="login" name="login" method="post" action="{{ url_for('page.login', _external=True) }}">
                                      <div class="form-group">
                                        <label for="frm_id">User ID</label>
                                        <input type="text" class="form-control" name="frm_id" id="frm_id" aria-describedby="idHelp" placeholder="User ID">
                                      </div>
                                      <div class="form-group">
                                        <label for="frm_pwd">Password</label>
                                        <input type="password" class="form-control" name="frm_pwd" id="frm_pwd" placeholder="Password">
                                      </div>
                                      <button type="submit" id="btn_login" class="btn btn-primary">Login</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>
{% endblock %}

{% block javascript %}
    <script src="//code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <!-- Extra //-->
    <script src="{{ url_for('static', filename='vendor/CoreUI-v1.0.6/app.js') }}"></script>
    <script src="{{ url_for('static', filename='vendor/js.cookie-2.2.0.min.js') }}"></script>

    <script>
    $().ready(function () {
        $('#frm_id').keypress(function(evt) {
            let code = evt.which ? evt.which : evt.keyCode;
            if (code === 13) {
                $(this).blur();
                $('#btn_login').focus().click();
            }
        });

        $('#frm_pwd').keypress(function(evt) {
            let code = evt.which ? evt.which : evt.keyCode;
            if (code === 13) {
                $(this).blur();
                $('#btn_login').focus().click();
            }
        });
    });

    </script>

{% endblock %}


